export type Locale = "pl" | "en" | "de";

export const messages: Record<Locale, Record<string, string | Record<string, string>>> = {
  pl: {
    sidebar: {
      panel: "Panel",
      reception: "Recepcja",
      receptionKwhotel: "Recepcja Kwhotel",
      checkIn: "Meldunek",
      shiftHandover: "Zmiana zmiany",
      contractors: "Kontrahenci",
      guests: "Goście",
      companies: "Firmy",
      travelAgents: "Biura podróży",
      rooms: "Pokoje",
      rates: "Cennik",
      derivedRules: "Reguły pochodne",
      housekeeping: "Housekeeping",
      minibar: "Minibar",
      meals: "Posiłki",
      laundry: "Pralnia",
      finance: "Finanse",
      paymentReminders: "Przypomnienia o płatności",
      dunning: "Windykacja",
      accountingIntegrations: "Integracje księgowe",
      reports: "Raporty",
      help: "Pomoc",
      channelManager: "Channel Manager",
      parking: "Parking",
      mice: "MICE",
      miceEvents: "Eventy",
      miceQuotes: "Kosztorysy",
      miceOrders: "Zlecenia realizacji",
      spa: "SPA",
      gastronomy: "Gastronomia",
      roomService: "Room service",
      transfers: "Transfery",
      attractions: "Wycieczki i atrakcje",
      rentals: "Wypożyczalnia",
      camping: "Camping",
      ownerPortal: "Portal Właściciela",
      settings: "Ustawienia",
      emailTemplates: "Szablony e-mail",
      hotelData: "Dane hotelu",
      floors: "Piętra budynku",
      users: "Użytkownicy – limity rabatowe",
      twoFa: "2FA",
      eventsCalendar: "Kalendarz wydarzeń",
      announcements: "Ogłoszenia wewnętrzne",
      sectionFrontOffice: "Recepcja",
      sectionSales: "Goście i sprzedaż",
      sectionRooms: "Pokoje i cennik",
      sectionHousekeeping: "Housekeeping",
      sectionServices: "Usługi dodatkowe",
      sectionMice: "Konferencje",
      sectionFinance: "Finanse",
      sectionReports: "Raporty i komunikacja",
      sectionAdmin: "Administracja",
      moreMenu: "Więcej",
      login: "Zaloguj",
      logout: "Wyloguj",
      theme: "Motyw",
    },
    common: {
      save: "Zapisz",
      cancel: "Anuluj",
      delete: "Usuń",
      edit: "Edytuj",
      add: "Dodaj",
      search: "Szukaj",
      loading: "Ładowanie…",
    },
    language: "Język",
  },
  en: {
    sidebar: {
      panel: "Dashboard",
      reception: "Reception",
      receptionKwhotel: "Reception Kwhotel",
      checkIn: "Check-in",
      shiftHandover: "Shift handover",
      contractors: "Contractors",
      guests: "Guests",
      companies: "Companies",
      travelAgents: "Travel agents",
      rooms: "Rooms",
      rates: "Rates",
      derivedRules: "Derived rules",
      housekeeping: "Housekeeping",
      minibar: "Minibar",
      meals: "Meals",
      laundry: "Laundry",
      finance: "Finance",
      paymentReminders: "Payment reminders",
      dunning: "Dunning",
      accountingIntegrations: "Accounting integrations",
      reports: "Reports",
      help: "Help",
      channelManager: "Channel Manager",
      parking: "Parking",
      mice: "MICE",
      miceEvents: "Events",
      miceQuotes: "Quotes",
      miceOrders: "Orders",
      spa: "SPA",
      gastronomy: "Gastronomy",
      roomService: "Room service",
      transfers: "Transfers",
      attractions: "Attractions",
      rentals: "Rentals",
      camping: "Camping",
      ownerPortal: "Owner portal",
      settings: "Settings",
      emailTemplates: "Email templates",
      hotelData: "Hotel data",
      floors: "Floors",
      users: "Users",
      twoFa: "2FA",
      eventsCalendar: "Events calendar",
      announcements: "Announcements",
      sectionFrontOffice: "Front office",
      sectionSales: "Guests & sales",
      sectionRooms: "Rooms & rates",
      sectionHousekeeping: "Housekeeping",
      sectionServices: "Additional services",
      sectionMice: "Conferences",
      sectionFinance: "Finance",
      sectionReports: "Reports & communication",
      sectionAdmin: "Administration",
      moreMenu: "More",
      login: "Log in",
      logout: "Log out",
      theme: "Theme",
    },
    common: {
      save: "Save",
      cancel: "Cancel",
      delete: "Delete",
      edit: "Edit",
      add: "Add",
      search: "Search",
      loading: "Loading…",
    },
    language: "Language",
  },
  de: {
    sidebar: {
      panel: "Dashboard",
      reception: "Rezeption",
      receptionKwhotel: "Rezeption Kwhotel",
      checkIn: "Check-in",
      shiftHandover: "Schichtübergabe",
      contractors: "Kontrahenten",
      guests: "Gäste",
      companies: "Unternehmen",
      travelAgents: "Reisebüros",
      rooms: "Zimmer",
      rates: "Preise",
      derivedRules: "Abgeleitete Regeln",
      housekeeping: "Housekeeping",
      minibar: "Minibar",
      meals: "Mahlzeiten",
      laundry: "Wäscherei",
      finance: "Finanzen",
      paymentReminders: "Zahlungserinnerungen",
      dunning: "Mahnwesen",
      accountingIntegrations: "Buchhaltungsanbindung",
      reports: "Berichte",
      help: "Hilfe",
      channelManager: "Channel Manager",
      parking: "Parkplatz",
      mice: "MICE",
      miceEvents: "Veranstaltungen",
      miceQuotes: "Kostenvoranschläge",
      miceOrders: "Aufträge",
      spa: "SPA",
      gastronomy: "Gastronomie",
      roomService: "Zimmerservice",
      transfers: "Transfers",
      attractions: "Ausflüge & Attraktionen",
      rentals: "Verleih",
      camping: "Camping",
      ownerPortal: "Eigentümerportal",
      settings: "Einstellungen",
      emailTemplates: "E-Mail-Vorlagen",
      hotelData: "Hoteldaten",
      floors: "Stockwerke",
      users: "Benutzer",
      twoFa: "2FA",
      eventsCalendar: "Veranstaltungskalender",
      announcements: "Mitteilungen",
      sectionFrontOffice: "Rezeption",
      sectionSales: "Gäste & Vertrieb",
      sectionRooms: "Zimmer & Preise",
      sectionHousekeeping: "Housekeeping",
      sectionServices: "Zusatzleistungen",
      sectionMice: "Konferenzen",
      sectionFinance: "Finanzen",
      sectionReports: "Berichte & Kommunikation",
      sectionAdmin: "Verwaltung",
      moreMenu: "Mehr",
      login: "Anmelden",
      logout: "Abmelden",
      theme: "Design",
    },
    common: {
      save: "Speichern",
      cancel: "Abbrechen",
      delete: "Löschen",
      edit: "Bearbeiten",
      add: "Hinzufügen",
      search: "Suchen",
      loading: "Laden…",
    },
    language: "Sprache",
  },
};

function getNested(obj: Record<string, string | Record<string, string>>, path: string): string | undefined {
  const parts = path.split(".");
  let current: string | Record<string, string | Record<string, string>> | undefined = obj;
  for (const p of parts) {
    if (current == null || typeof current !== "object") return undefined;
    current = (current as Record<string, string | Record<string, string>>)[p];
  }
  return typeof current === "string" ? current : undefined;
}

export function getT(locale: Locale) {
  const m = messages[locale] ?? messages.pl;
  return (key: string): string => getNested(m as Record<string, string | Record<string, string>>, key) ?? key;
}
